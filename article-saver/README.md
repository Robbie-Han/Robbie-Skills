# Article Saver Skill

`article-saver` 是一个为 Claude 设计的专业文章抓取与本地化保存工具。它能够高效地从 **微信公众号**、**X (Twitter)** 和 **知乎** 抓取内容，将其转换为结构化的 Markdown 文件，并将图片/GIF 以原始质量保存到本地。

## 🌟 核心特性

- **平台自动归档**：根据来源自动分类存储，路径规则：`素材/{平台}/{日期}_{标题}/`。
- **原画质多媒体**：
  - **X (Twitter)**：自动解析并下载 `:large` 规格的原图。
  - **微信/知乎**：支持懒加载图片识别，保持 GIF 动态效果。
- **纯净内容提取**：智能剔除广告、侧边栏及无关互动数据。
- **独立运行**：不依赖其他技能，内置独立的身份认证管理方案。
- **Markdown 兼容**：生成包含 YAML 元数据（标题、作者、原文链接）的标准 Markdown。

## 🛠️ 安装与准备

### 1. 快速环境配置

你可以使用内置的一键配置脚本来自动安装所有依赖（包括 Python 库和浏览器驱动）：

```bash
chmod +x setup.sh && ./setup.sh
```

或者手动安装：

```bash
pip install -r requirements.txt
python3 -m playwright install chromium
```

### 2. 身份认证 (仅需一次)

由于微信和知乎具有较强的反爬机制，建议在使用前运行以下脚本进行扫码登录，以保存登录状态（Cookie）：

- **微信公众号**：
  ```bash
  python3 scripts/setup_wechat.py
  ```
- **知乎**：
  ```bash
  python3 scripts/setup_zhihu.py
  ```

## 🚀 使用方法

### 在 Claude 中调用
你可以直接向 Claude 发送链接：
- "帮我保存这篇文章：[URL]"
- "把这个推特长文存一下：[URL]"

### 命令行运行
你也可以在终端直接执行脚本：
```bash
python3 scripts/saver.py <文章URL>
```

## 📂 目录结构

```text
article-saver/
├── SKILL.md            # Claude 技能定义文件
├── README.md           # 项目说明文档
├── scripts/
│   ├── saver.py        # 核心抓取逻辑
│   ├── setup_wechat.py # 微信登录态设置
│   └── setup_zhihu.py  # 知乎登录态设置
├── data/               # 存储 auth.json 等认证文件
└── references/         # 开发参考文档
```

## 📊 支持平台详情

| 平台 | 特效处理 |
| :--- | :--- |
| **微信公众号** | 完善的懒加载支持，支持视频号内容占位提示。 |
| **X (Twitter)** | 支持 Thread (推文串) 抓取，媒体链接自动转为最高清格式。 |
| **知乎** | 兼容“回答 (Answer)”与“专栏 (Article)”两种模式。 |

---
🤖 *Generated by Claude Code*
